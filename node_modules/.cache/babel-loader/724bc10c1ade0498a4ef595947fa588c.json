{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/thunder/thunder-goods-cms/src/pages/Board.js\";\nimport { Component } from \"react\";\nimport Square from './Square';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Board extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      squares: Array(9).fill(null),\n      isPlayerX: true,\n      winner: null,\n      history: []\n    };\n  }\n\n  handleSquare(row = 0, col = 0) {\n    let {\n      squares,\n      isPlayerX,\n      winner\n    } = this.state;\n\n    if (squares[3 * row + col]) {\n      return;\n    }\n\n    squares[3 * row + col] = isPlayerX ? 'X' : 'O';\n    let currentWinner = this.showWinner(squares);\n\n    if (winner) {\n      console.log('we have a winner', winner);\n      return;\n    }\n\n    this.addHistory(squares);\n    this.setState({\n      squares,\n      isPlayerX: !isPlayerX,\n      winner: currentWinner\n    });\n  }\n\n  addHistory(params = null) {\n    console.log(\">>>>--params-->>>\", params);\n    const temp = this.state.history;\n    const item = JSON.parse(JSON.stringify(params));\n    temp.push(item);\n    console.log(\">>>>--temp-->>>\", temp);\n    this.setState({\n      history: temp\n    });\n  }\n\n  resetAllSquare() {\n    this.setState({\n      squares: Array(9).fill(null),\n      isPlayerX: true,\n      winner: false,\n      history: []\n    });\n  }\n\n  showWinner(squares) {\n    let possibilitiesOfWinner = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n    let winner = null;\n    possibilitiesOfWinner.forEach((ele, idx) => {\n      if (squares[ele[0]] === squares[ele[1]] && squares[ele[1]] === squares[ele[2]]) {\n        winner = squares[ele[0]] !== \"X\" ? squares[ele[0]] === \"O\" ? 'O' : null : \"X\";\n      }\n    });\n    return winner;\n  }\n\n  stepBack(index) {\n    let {\n      history\n    } = this.state;\n    let temp = Object.assign(history[index]);\n    console.log('>>--index-->>', index);\n    console.log('>>--history-->>', history);\n    this.setState({\n      squares: temp\n    });\n  }\n\n  render() {\n    let {\n      squares,\n      isPlayerX,\n      winner,\n      history\n    } = this.state;\n    let squareContainer = [[], [], []];\n    squares.forEach((item, index) => {\n      let rowIndex = parseInt(index / 3);\n      squareContainer[rowIndex].push(item);\n    });\n    let squareAll = [];\n    squareContainer.forEach((item, index) => {\n      let squareRow = [];\n      item.forEach((ele, idx) => {\n        squareRow.push( /*#__PURE__*/_jsxDEV(Square, {\n          value: ele,\n          row: index,\n          col: idx,\n          handleSquare: this.handleSquare.bind(this)\n        }, `${index}-${idx}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 24\n        }, this));\n      });\n      squareAll.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'square_row',\n        children: squareRow\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 22\n      }, this));\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'square_board',\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: 'player_note',\n        children: winner ? `the winner is :${winner}` : `next player is :${isPlayerX ? 'X' : 'O'}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: squareAll\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: 'operation_list',\n        children: history.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => {\n              this.stepBack(index);\n            },\n            children: [\"step:\", index + 1]\n          }, 'oprate' + index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: 're_play',\n        onClick: () => {\n          this.resetAllSquare();\n        },\n        children: \"RePlay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Board;","map":{"version":3,"sources":["/Users/mac/Desktop/thunder/thunder-goods-cms/src/pages/Board.js"],"names":["Component","Square","Board","constructor","props","state","squares","Array","fill","isPlayerX","winner","history","handleSquare","row","col","currentWinner","showWinner","console","log","addHistory","setState","params","temp","item","JSON","parse","stringify","push","resetAllSquare","possibilitiesOfWinner","forEach","ele","idx","stepBack","index","Object","assign","render","squareContainer","rowIndex","parseInt","squareAll","squareRow","bind","map"],"mappings":"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","sourcesContent":["import { Component} from \"react\";\nimport Square from './Square'\nclass Board extends Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      squares: Array(9).fill(null),\n      isPlayerX:true,\n      winner:null,\n      history:[]\n    }\n  }\n  handleSquare(row=0,col=0){\n    let { squares,isPlayerX,winner} = this.state\n    \n    if(squares[ 3*row + col]){\n      return\n    }\n    squares[ 3*row + col] = isPlayerX?'X':'O'\n    let currentWinner = this.showWinner(squares)\n    if(winner){\n      console.log('we have a winner',winner)\n      return\n    }\n    this.addHistory(squares)\n    this.setState({\n      squares,\n      isPlayerX:!isPlayerX,\n      winner:currentWinner,\n    })\n  }\n  addHistory(params=null){\n    console.log(\">>>>--params-->>>\",params)\n    const temp = this.state.history\n    const item = JSON.parse(JSON.stringify(params))\n    temp.push(item)\n    console.log(\">>>>--temp-->>>\",temp)\n    this.setState({\n      history:temp\n    })\n  \n  }\n  resetAllSquare(){\n    this.setState({\n      squares:Array(9).fill(null),\n      isPlayerX:true,\n      winner:false,\n      history:[]\n    })\n  }\n  showWinner(squares){\n    let possibilitiesOfWinner = [\n      [0,1,2],\n      [3,4,5],\n      [6,7,8],\n      [0,3,6],\n      [1,4,7],\n      [2,5,8],\n      [0,4,8],\n      [2,4,6]\n    ]\n    let winner = null\n    possibilitiesOfWinner.forEach((ele,idx)=>{\n      if(squares[ele[0]] === squares[ele[1]] && squares[ele[1]] === squares[ele[2]]){\n        winner = squares[ele[0]] !== \"X\"?squares[ele[0]] === \"O\"?'O':null:\"X\"\n      }\n    })\n    return winner\n  }\n  stepBack(index){\n    let { history } = this.state\n    let temp = Object.assign(history[index])\n    console.log('>>--index-->>',index)\n    console.log('>>--history-->>',history)\n    this.setState({\n      squares:temp\n    })\n  }\n  render(){\n    let { squares,isPlayerX,winner,history } = this.state\n    let squareContainer = [[],[],[]]\n    squares.forEach((item,index)=>{\n      let rowIndex = parseInt(index/3)\n      squareContainer[rowIndex].push(item)\n    })\n    let squareAll = []\n    squareContainer.forEach((item,index)=>{\n      let squareRow = []\n      item.forEach((ele,idx)=>{\n        squareRow.push(<Square value={ele} key={`${index}-${idx}`} row={index} col={idx} handleSquare={this.handleSquare.bind(this)}></Square>)\n      })\n      squareAll.push(<div key={index} className={'square_row'}>{squareRow}</div>)\n    })\n    \n    \n    return (\n      <div className={'square_board'}>\n        <p className={'player_note'}>{ winner ?`the winner is :${winner}` :`next player is :${isPlayerX?'X':'O'}`}</p>\n        \n        <div>\n          {squareAll}\n        </div>\n        <ul className={'operation_list'}>\n          {history.map((item,index)=>{\n            return (\n              <li onClick={()=>{this.stepBack(index)} } key={'oprate'+index}>step:{index+1}</li>\n            )\n          })}\n          \n          \n        </ul>\n        <button\n          className={'re_play'}\n          onClick={()=>{this.resetAllSquare()}}\n        >\n          RePlay\n        </button>\n      </div>\n    )\n  }\n}\nexport default Board\n"]},"metadata":{},"sourceType":"module"}